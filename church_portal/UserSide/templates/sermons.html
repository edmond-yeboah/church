{% extends 'userbase.html' %} 

{% block content %}

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      {% if sdetails %}
      <button type="button" class="btn btn-light mt-4 mb-2">
        <a href="{% url 'sermons' %}" style="color: black"
          ><i class="mdi mdi-arrow-left-thick me-1"></i> <span>Back</span></a
        >
      </button>
      {% else %}
      <h4 class="mb-4 mt-4">Sermons</h4>
      {% endif %}
    </div>
    <!-- end col -->
  </div>
  <!-- end row -->

  {% if not sdetails %}
  <div class="row mb-2">
    <div class="col-xl-8">
      <form
        action=""
        method="POST"
        class="
          row
          gy-2
          gx-2
          align-items-center
          justify-content-xl-start justify-content-between
        "
      >
        {% csrf_token %}
        <div class="col-auto">
          <label for="inputPassword2" class="visually-hidden">Search</label>
          <input
            type="search"
            class="form-control"
            id="inputPassword2"
            name="searchquery"
            placeholder="Search for a sermon..."
          />
        </div>
        <div class="col-auto">
          <div class="col-xl-4">
            <div class="text-xl-end mt-xl-0 mt-2">
              <button
                type="submit"
                class="btn btn-dark me-1"
                name="action"
                value="search"
              >
                Search
              </button>
              {% comment %}
              <button type="button" class="btn btn-light mb-2">Export</button>
              {% endcomment %}
            </div>
          </div>
          <!-- end col-->
        </div>
      </form>
    </div>
    <div class="col-xl-4">
      <div class="text-xl-end mt-xl-0 mt-2">
        {% comment %} <button
          type="button"
          class="btn btn-dark mb-2 me-2"
          data-bs-toggle="modal"
          data-bs-target="#staticBackdrop"
        >
          <i class="uil-book-open me-1"></i> Add New Sermon
        </button> {% endcomment %}

        <a href="{% url 'sermons' %}"
          ><button type="button" class="btn btn-dark mb-2">
            <i class="mdi mdi-autorenew"></i></button
        ></a>

        {% comment %}
        <a href="javascript: void(0);" class="btn btn-primary">
          <i class="mdi mdi-autorenew"></i>
        </a>
        {% endcomment %}
      </div>
    </div>
    <!-- end col-->
  </div>
  {% endif %} {% include 'messages.html' %} {% if nosermonresult %}
  <h3>{{nosermonresult}}</h3>
  {% endif %} {% if nothingentered %}
  <h3>{{nothingentered}}</h3>
  {% endif %}

  <div class="row">
    {% if allsermons %} {% for s in allsermons %}
    <div class="col-lg-6">
      <div class="card">
        <div class="row g-0 align-items-center">
          <div class="col-md-8">
            <div class="card-body">
              <a href="{% url 'sermons' %}?sid={{s.id}}"
                ><h5 class="card-title">{{s.title}}</h5></a
              >
              <p class="card-text">{{s.content|truncatechars:100}}</p>
              <p class="card-text">
                <small class="text-muted">{{s.added_on|timesince}} ago</small>
              </p>
            </div>
            <!-- end card-body -->
          </div>
          <!-- end col -->
          <div class="col-md-4">
            <img src="{{s.image.url}}" class="card-img" alt="..." />
          </div>
          <!-- end col -->
        </div>
        <!-- end row-->
      </div>
      <!-- end card -->
    </div>
    <!-- end col-->
    {% endfor %} {% endif %}
  </div>
  <!-- end row -->

  {% comment %} <div
    class="modal fade"
    id="staticBackdrop"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header modal-colored-header bg-dark">
          <h4 class="modal-title" id="myCenterModalLabel">
            <i class="uil-book-open me-1"></i>New Sermon
          </h4>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-hidden="true"
            style="olor: white"
          >
            X
          </button>
        </div>
        <div class="modal-body"> {% endcomment %}
          {% comment %}
          <div class="text-center mt-2 mb-4">
            <a href="index.html" class="text-success">
              <span
                ><img src="assets/images/logo-dark.png" alt="" height="18"
              /></span>
            </a>
          </div>
          {% endcomment %}

          {% comment %} <form
            class="ps-3 pe-3"
            action=""
            method="POST"
            enctype="multipart/form-data"
          >
            {% csrf_token %}
            <div class="mb-3">
              <label for="title" class="form-label">Sermon Title</label>
              <input
                class="form-control"
                type="text"
                id="title"
                required
                name="title"
                placeholder="Sermon title"
              />
            </div>

            <div class="col-sm-12 mb-3">
              <label class="form-label">Sermon image</label>
              <input
                class="form-control"
                type="file"
                name="pic"
                id="pic"
                accept="image*"
              />
            </div>

            <label for="emailaddress" class="form-label">Sermon content</label>
            <div class="form-floating">
              <textarea
                class="form-control mb-4"
                placeholder="Leave a comment here"
                id="floatingTextarea"
                name="content"
                style="height: 100px"
              ></textarea>
              <label for="floatingTextarea">Write sermon...</label>
            </div> {% endcomment %}

            {% comment %}
            <div class="mb-3">
              <label for="emailaddress" class="form-label">Email address</label>
              <input
                class="form-control"
                type="email"
                id="emailaddress"
                required
                name="email"
                placeholder="example@example.com"
              />
            </div>
            {% endcomment %} {% comment %}
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                class="form-control"
                type="password"
                required
                name="password"
                id="password"
                placeholder="Enter your password"
              />
            </div>
            {% endcomment %} {% comment %}
            <div class="mb-3">
              <div class="form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="customCheck1"
                />
                <label class="form-check-label" for="customCheck1"
                  >I accept <a href="#">Terms and Conditions</a></label
                >
              </div>
            </div>
            {% endcomment %}

            {% comment %} <div class="mb-3 text-center">
              <button
                class="btn btn-dark"
                type="submit"
                name="action"
                value="add sermon"
              >
                Add Sermon
              </button>
            </div>
          </form>
        </div>
      </div>
      <!-- end modal content-->
    </div>
    <!-- end modal dialog-->
  </div> {% endcomment %}
  <!-- end modal-->

  {% if sdetails %}
  <!-- start page title -->
  <div class="row">
    <div class="col-12">
      <div class="page-title-box">
        <h4 class="page-title">Sermon Details</h4>
      </div>
    </div>
  </div>
  <!-- end page title -->

  <div class="row">
    <div class="col-xxl-8 col-lg-6">
      <!-- project card -->
      <div class="card d-block">
        <div class="card-body">
        {% comment %} {% include 'messages.html' %} {% endcomment %}
          <div class="dropdown float-end">
            <a
              href="#"
              class="dropdown-toggle arrow-none card-drop"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <i class="dripicons-dots-3"></i>
            </a>
            {% comment %} <div class="dropdown-menu dropdown-menu-end"> {% endcomment %}
              <!-- item-->
              {% comment %} <a
                href="{% url 'adminsermon' %}?edit={{sdetails.id}}"
                class="dropdown-item"
                ><i class="mdi mdi-pencil me-1"></i>Edit</a
              > {% endcomment %}
              <!-- item-->
              {% comment %} <a
                href="{% url 'adminsermon' %}?del={{sdetails.id}}"
                class="dropdown-item"
                ><i class="mdi mdi-delete me-1"></i>Delete</a
              > {% endcomment %}
              <!-- item-->
              {% comment %}
              <a href="javascript:void(0);" class="dropdown-item"
                ><i class="mdi mdi-email-outline me-1"></i>Invite</a
              >
              <!-- item-->
              <a href="javascript:void(0);" class="dropdown-item"
                ><i class="mdi mdi-exit-to-app me-1"></i>Leave</a
              >
              {% endcomment %}
            {% comment %} </div> {% endcomment %}
          </div>
          <!-- project title-->
          <h3 class="mt-0">{{sdetails.title}}</h3>
          {% comment %}
          <div class="badge bg-secondary text-light mb-3">Ongoing</div>
          {% endcomment %} {% comment %}
          <h5>Sermon Content:</h5>
          {% endcomment %}

          <p class="text-muted mb-2">{{sdetails.content}}</p>

          <div class="row">
            <div class="col-md-4">
              <div class="mb-4">
                <h5>Submitted Date</h5>
                <p>{{sdetails.added_on}}</p>
              </div>
            </div>
            {% comment %}
            <div class="col-md-4">
              <div class="mb-4">
                <h5>End Date</h5>
                <p>
                  22 December 2018 <small class="text-muted">1:00 PM</small>
                </p>
              </div>
            </div>
            {% endcomment %} {% comment %}
            <div class="col-md-4">
              <div class="mb-4">
                <h5>Budget</h5>
                <p>$15,800</p>
              </div>
            </div>
            {% endcomment %}
          </div>

          {% comment %}
          <div id="tooltip-container">
            <h5>Team Members:</h5>
            <a
              href="javascript:void(0);"
              data-bs-container="#tooltip-container"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              title="Mat Helme"
              class="d-inline-block"
            >
              <img
                src="assets/images/users/avatar-6.jpg"
                class="rounded-circle img-thumbnail avatar-sm"
                alt="friend"
              />
            </a>

            <a
              href="javascript:void(0);"
              data-bs-container="#tooltip-container"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              title="Michael Zenaty"
              class="d-inline-block"
            >
              <img
                src="assets/images/users/avatar-7.jpg"
                class="rounded-circle img-thumbnail avatar-sm"
                alt="friend"
              />
            </a>

            <a
              href="javascript:void(0);"
              data-bs-container="#tooltip-container"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              title="James Anderson"
              class="d-inline-block"
            >
              <img
                src="assets/images/users/avatar-8.jpg"
                class="rounded-circle img-thumbnail avatar-sm"
                alt="friend"
              />
            </a>

            <a
              href="javascript:void(0);"
              data-bs-container="#tooltip-container"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              title="Mat Helme"
              class="d-inline-block"
            >
              <img
                src="assets/images/users/avatar-4.jpg"
                class="rounded-circle img-thumbnail avatar-sm"
                alt="friend"
              />
            </a>

            <a
              href="javascript:void(0);"
              data-bs-container="#tooltip-container"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              title="Michael Zenaty"
              class="d-inline-block"
            >
              <img
                src="assets/images/users/avatar-5.jpg"
                class="rounded-circle img-thumbnail avatar-sm"
                alt="friend"
              />
            </a>

            <a
              href="javascript:void(0);"
              data-bs-container="#tooltip-container"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              title="James Anderson"
              class="d-inline-block"
            >
              <img
                src="assets/images/users/avatar-3.jpg"
                class="rounded-circle img-thumbnail avatar-sm"
                alt="friend"
              />
            </a>
          </div>
          {% endcomment %}
        </div>
        <!-- end card-body-->
      </div>
      <!-- end card-->

      <div class="card">
        <div class="card-body">
          <h4 class="mt-0 mb-3">Comments ({{comments | length}})</h4>

          <form action="" method="POST">
          {% csrf_token %}
          <textarea
            class="form-control form-control-light mb-2"
            placeholder="Write comment"
            id="comment"
            name="comment"
            rows="3"
            required
          ></textarea>

          <div class="text-end">
            {% comment %} <div class="btn-group mb-2">
              <button
                type="button"
                class="btn btn-link btn-sm text-muted font-18"
              >
                <i class="dripicons-paperclip"></i>
              </button>
            </div> {% endcomment %}
            <input name="sid" id="sid" value={{sdetails.id}} hidden />
            <div class="btn-group mb-2 ms-2">
              <button type="submit" name="action" value="comment" class="btn btn-primary btn-sm">
                Submit
              </button>
            </div>
          </div>
          </form>
          
          {% if comments %}
          {% for c in comments  %}
          <div class="d-flex align-items-start mt-2 mb-4">
            <img
              class="me-3 avatar-sm rounded-circle"
              src="/static/assets/images/users/avatar-3.jpg"
              alt="Generic placeholder image"
            />
            <div class="w-100 overflow-hidden">
              {% if c.by.first_name and c.by.last_name %}
              <h5 class="mt-0">{{c.by.first_name}} {{c.by.last_name}}</h5>
              {% else %}
              <h5 class="mt-0">{{c.by.username}}</h5>
              {% endif %}
              {{c.content}}
              {% comment %}
              <div class="d-flex align-items-start mt-3">
                <a class="pe-3" href="#">
                  <img
                    src="assets/images/users/avatar-4.jpg"
                    class="avatar-sm rounded-circle"
                    alt="Generic placeholder image"
                  />
                </a>
                <div class="w-100 overflow-hidden">
                  <h5 class="mt-0">Kathleen Thomas</h5>
                  Cras sit amet nibh libero, in gravida nulla. Nulla vel metus
                  scelerisque ante sollicitudin. Cras purus odio, vestibulum in
                  vulputate at, tempus viverra turpis. Fusce condimentum nunc ac
                  nisi vulputate fringilla. Donec lacinia congue felis in
                  faucibus.
                </div>
              </div>
              {% endcomment %}
            </div>
          </div>
          {% endfor %}
          {% endif %}

          {% comment %} <div class="text-center mt-2">
            <a href="javascript:void(0);" class="text-danger">Load more </a>
          </div> {% endcomment %}
        </div>
        <!-- end card-body-->
      </div>
      <!-- end card-->
    </div>
    <!-- end col -->

    <div class="col-lg-6 col-xxl-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title mb-3">Progress</h5>
          <div dir="ltr">
            <div class="mt-3 chartjs-chart" style="height: 320px">
              <canvas id="line-chart-example"></canvas>
            </div>
          </div>
        </div>
      </div>
      <!-- end card-->

      {% comment %}
      <div class="card">
        <div class="card-body">
          <h5 class="card-title mb-3">Files</h5>

          <div class="card mb-1 shadow-none border">
            <div class="p-2">
              <div class="row align-items-center">
                <div class="col-auto">
                  <div class="avatar-sm">
                    <span class="avatar-title rounded"> .ZIP </span>
                  </div>
                </div>
                <div class="col ps-0">
                  <a href="javascript:void(0);" class="text-muted fw-bold"
                    >Hyper-admin-design.zip</a
                  >
                  <p class="mb-0">2.3 MB</p>
                </div>
                <div class="col-auto">
                  <!-- Button -->
                  <a
                    href="javascript:void(0);"
                    class="btn btn-link btn-lg text-muted"
                  >
                    <i class="dripicons-download"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card mb-1 shadow-none border">
            <div class="p-2">
              <div class="row align-items-center">
                <div class="col-auto">
                  <img
                    src="assets/images/projects/project-1.jpg"
                    class="avatar-sm rounded"
                    alt="file-image"
                  />
                </div>
                <div class="col ps-0">
                  <a href="javascript:void(0);" class="text-muted fw-bold"
                    >Dashboard-design.jpg</a
                  >
                  <p class="mb-0">3.25 MB</p>
                </div>
                <div class="col-auto">
                  <!-- Button -->
                  <a
                    href="javascript:void(0);"
                    class="btn btn-link btn-lg text-muted"
                  >
                    <i class="dripicons-download"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card mb-0 shadow-none border">
            <div class="p-2">
              <div class="row align-items-center">
                <div class="col-auto">
                  <div class="avatar-sm">
                    <span class="avatar-title bg-secondary text-light rounded">
                      .MP4
                    </span>
                  </div>
                </div>
                <div class="col ps-0">
                  <a href="javascript:void(0);" class="text-muted fw-bold"
                    >Admin-bug-report.mp4</a
                  >
                  <p class="mb-0">7.05 MB</p>
                </div>
                <div class="col-auto">
                  <!-- Button -->
                  <a
                    href="javascript:void(0);"
                    class="btn btn-link btn-lg text-muted"
                  >
                    <i class="dripicons-download"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endcomment %}
    </div>
  </div>
  <!-- end row -->
  {% endif %} 
  
  {% if editsermon %}
  <form action="" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
    {% comment %}
    <div class="row g-2">
      <div class="mb-3 col-md-6">
        <label for="inputEmail4" class="form-label">Email</label>
        <input
          type="email"
          class="form-control"
          id="inputEmail4"
          placeholder="Email"
        />
      </div>
      <div class="mb-3 col-md-6">
        <label for="inputPassword4" class="form-label">Password</label>
        <input
          type="password"
          class="form-control"
          id="inputPassword4"
          placeholder="Password"
        />
      </div>
    </div>
    {% endcomment %} {% comment %}
    <div class="mb-3">
      <label for="inputAddress" class="form-label">Address</label>
      <input
        type="text"
        class="form-control"
        id="inputAddress"
        placeholder="1234 Main St"
      />
    </div>
    {% endcomment %} {% comment %}
    <div class="mb-3">
      <label for="inputAddress2" class="form-label">Address 2</label>
      <input
        type="text"
        class="form-control"
        id="inputAddress2"
        placeholder="Apartment, studio, or floor"
      />
    </div>
    {% endcomment %} {% comment %}
    <div class="row g-2">
      <div class="mb-3 col-md-6">
        <label for="inputCity" class="form-label">City</label>
        <input type="text" class="form-control" id="inputCity" />
      </div>
      <div class="mb-3 col-md-4">
        <label for="inputState" class="form-label">State</label>
        <select id="inputState" class="form-select">
          <option>Choose</option>
          <option>Option 1</option>
          <option>Option 2</option>
          <option>Option 3</option>
        </select>
      </div>
      <div class="mb-3 col-md-2">
        <label for="inputZip" class="form-label">Zip</label>
        <input type="text" class="form-control" id="inputZip" />
      </div>
    </div>
    {% endcomment %}

    <div class="row g-2">
      <div class="mb-3 col-md-6">
        <label for="title" class="form-label">Sermon Title</label>
        <input
          class="form-control"
          type="text"
          id="title"
          required
          value="{{editsermon.title}}"
          name="title"
          placeholder="Sermon title"
        />
      </div>

      <div class="col-md-6 col-sm-12 mb-3">
        <label class="form-label">Change Sermon image</label>
        <input
          class="form-control"
          type="file"
          name="image"
          id="image"
          accept="image*"
        />
      </div>
    </div>

    <label for="emailaddress" class="form-label">Sermon content</label>
    <div class="form-floating">
      <textarea
        class="form-control mb-4"
        placeholder="Leave a comment here"
        id="floatingTextarea"
        name="content"
        style="height: 100px"
      >
{{editsermon.content}}</textarea
      >
      <label for="floatingTextarea">Write sermon...</label>
    </div>
    <input  id="id" name="id" value={{editsermon.id}}  hidden />
    {% comment %}
    <div class="mb-2">
      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="customCheck11" />
        <label class="form-check-label" for="customCheck11"
          >Check this custom checkbox</label
        >
      </div>
    </div>
    {% endcomment %} 
    {% comment %}
    <button type="submit" class="btn btn-primary">Sign in</button> {% endcomment %}
    <div class="text-end">
      <button
        type="submit"
        class="btn btn-success mt-2"
        name="action"
        value="edit"
      >
        <i class="mdi mdi-content-save"></i> Update
      </button>
    </div>
  </form>
  {% endif %}
</div>

{% endblock content %}
